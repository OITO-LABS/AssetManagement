(window.webpackJsonp=window.webpackJsonp||[]).push([[10,13],{BZaH:function(e,t,a){"use strict";a.r(t);var s=a("q1tI"),l=a.n(s),i=a("Bbg3"),n=a("ICSB"),r=a("qcPu"),o=a("8vYt"),d=a("UJ58");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach(function(t){p(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.default=class extends s.Component{constructor(e){super(e),this.validateFieldData=this.validateFieldData.bind(this),this.validator=new o.default([{field:"assetKey",method:"isEmpty",args:[{ignore_whitespace:!0}],validWhen:!1,message:"Asset Key is empty"},{field:"model",method:"isEmpty",args:[{ignore_whitespace:!0}],validWhen:!1,message:"Model is empty"},{field:"productCategory",method:"isEmpty",args:[{ignore_whitespace:!0}],validWhen:!1,message:"Product Category is empty"}]),this.state=c({},this.getStateData(this.props)),this.submit=this.submit.bind(this),this.update=this.update.bind(this),this.cancel=this.cancel.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.fieldData={}}componentDidMount(){app.events.trigger(i.o,{status:!1,reset:!0}),-1!=this.props.match.params.assetId&&r.a.getRequest("updategetAsset",{assetId:this.props.match.params.assetId}).then(e=>{this.setState(c({},this.getStateData(e)))}).catch(e=>{console.error(e)})}getStateData(e){return{assetKey:e.assetKey||"",model:e.model||"",macId:e.macId||"",simNo:e.simNo||"",msisdnNo:e.msisdnNo||"",productCategory:e.productCategory||""}}validateFieldData(e,t,a,s,l){return this.fieldData[l]&&!!this.fieldData[l][t.propName]}handleInputChange(e,t={}){let a=t.field||e.target.name,s=t.value||e.target.value||"";this.fieldData[a]=t,e&&this.setState({[a]:"checkbox"==e.target.type?e.target.checked:s})}submit(){const e=this.validator.validate(this.state);this.setState({validation:e}),this.submitted=!0,e.isValid&&r.a.postRequest("assetregistered",c({},this.getStateData(this.state))).then(e=>{"success"==e.status?(app.events.trigger(i.I,{visible:!0,type:i.b.SUCESS,msg:"Successfully Submitted"}),setTimeout(()=>{app.events.trigger(i.q,{routerKey:i.f})},3e3)):app.events.trigger(i.I,{visible:!0,type:i.b.DANGER,msg:"Submission Failed"})}).catch(e=>{console.log(e)})}update(){const e=this.validator.validate(this.state);this.setState({validation:e}),this.submitted=!0,e.isValid&&r.a.putRequest("updateAsset",c({},this.getStateData(this.state),{assetId:this.props.match.params.assetId})).then(e=>{"success"==e.status?(app.events.trigger(i.I,{visible:!0,type:i.b.SUCESS,msg:"Successfully Updated"}),setTimeout(()=>{app.events.trigger(i.q,{routerKey:i.f})},3e3)):app.events.trigger(i.I,{visible:!0,type:i.b.DANGER,msg:"Updation Failed"})}).catch(e=>{console.log(e)})}cancel(){app.events.trigger(i.q,{routerKey:i.f})}render(){let e=this.submitted?this.validator.validate(this.state):this.state.validation;var t=this.props.match.params.assetId;return l.a.createElement("div",{className:"form-wrapper"},-1==t?l.a.createElement(d.default,{heading:"REGISTER ASSET"}):l.a.createElement(d.default,{heading:"UPDATE ASSET"}),l.a.createElement("div",{className:"d-flex justify-content-sm-around"},l.a.createElement("div",{className:"p-2 w-25 mt-5"},l.a.createElement(n.default,{label:"Asset Key",labelClassName:"txt-label",fieldClassName:"txt-input",mandatory:!0,disabled:"-1"!=t,name:"assetKey",onChange:this.handleInputChange,value:this.state.assetKey,placeholder:"Asset Key",validator:e}),l.a.createElement(n.default,{label:"Model",labelClassName:"txt-label",fieldClassName:"txt-input",mandatory:!0,onChange:this.handleInputChange,name:"model",value:this.state.model,placeholder:"Model",validator:e}),l.a.createElement(n.default,{label:"MAC Id",labelClassName:"txt-label",fieldClassName:"txt-input",onChange:this.handleInputChange,name:"macId",value:this.state.macId,placeholder:"MAC Id"}),l.a.createElement(n.default,{label:"Sim Number",labelClassName:"txt-label",fieldClassName:"txt-input",onChange:this.handleInputChange,name:"simNo",value:this.state.simNo,placeholder:"Sim Number"}),l.a.createElement(n.default,{label:"MSISDN Number",labelClassName:"txt-label",fieldClassName:"txt-input",onChange:this.handleInputChange,name:"msisdnNo",value:this.state.msisdnNo,placeholder:"MSISDN Number"}),l.a.createElement(n.default,{type:"select",label:"Product Category",labelClassName:"txt-label",fieldClassName:"select-input",mandatory:!0,name:"productCategory",nameAlias:"abc_fullName",onChange:this.handleInputChange,options:[{value:"Mouse",label:"Mouse"},{value:"Keyboard",label:"Keyboard"},{value:"Wifi",label:"Wifi"},{value:"Modem",label:"Modem"},{value:"Adapter",label:"Adapter"},{value:"Laptop",label:"Laptop"},{value:"Headset",label:"Headset"}],value:this.state.productCategory,placeholder:"Product Category",validator:e}))),l.a.createElement("div",{className:"btn-wrapper"},"-1"==t?l.a.createElement("button",{type:"button",className:"btn submit-btn",onClick:this.submit},"Submit"):l.a.createElement("button",{type:"button",className:"btn submit-btn",onClick:this.update},"Update"),l.a.createElement("button",{type:"button",className:"btn cancel-btn",onClick:this.cancel},"Cancel")))}}},UJ58:function(e,t,a){"use strict";a.r(t),a.d(t,"Heading",function(){return i});var s=a("q1tI"),l=a.n(s);a("bBnu");class i extends s.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement("div",{className:"row heading-row"},l.a.createElement("h4",null,this.props.heading))}}t.default=i},bBnu:function(e,t,a){}}]);