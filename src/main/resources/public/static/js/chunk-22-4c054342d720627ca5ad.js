(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"Fa+R":function(e,a,t){"use strict";t.r(a);var s=t("q1tI"),i=t.n(s),r=(t("Cbur"),t("P6Ho")),n=t.n(r),l=t("Bbg3"),o=t("8vYt"),d=t("ICSB"),c=t("qcPu");function m(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,s)}return t}function p(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?m(t,!0).forEach(function(a){h(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function h(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}a.default=class extends s.Component{constructor(e){super(e),this.validateFieldData=this.validateFieldData.bind(this),this.validEmailData=this.validEmailData.bind(this),this.validator=new o.default([{field:"username",aliasField:"username",method:"isEmpty",args:[{ignore_whitespace:!0}],validWhen:!1,message:"Username is empty"},{field:"username",aliasField:"username",method:this.validEmailData,args:[{ignore_whitespace:!0}],validWhen:!0,message:"Invalid format"},{field:"password",aliasField:"password",method:"isEmpty",args:[{ignore_whitespace:!0}],validWhen:!1,message:"Password is empty"},{field:"password",aliasField:"password",method:this.checkPswdRulesMatched,validWhen:!0,message:"Password must contain numbers,special characters,lowercase & uppercase alphabets"},{field:"cpassword",aliasField:"cpassword",method:"isEmpty",args:[{ignore_whitespace:!0}],validWhen:!1,message:"Password is empty"},{field:"cpassword",aliasField:"cpassword",method:this.passwordMatch,args:["eq","password"],validWhen:!0,message:"Password mismatch"}]),this.state=p({},this.getStateData(this.props),{validation:this.validator.valid()}),this.fieldData={},this.handleInputChange=this.handleInputChange.bind(this),this.onReset=this.onReset.bind(this),this.checkPswdRulesMatched=this.checkPswdRulesMatched.bind(this),this.passwordMatch=this.passwordMatch.bind(this)}componentDidMount(){app.events.trigger(l.o,{status:!1,reset:!0})}validEmailData(e,a,t,s,i){return RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i).test(e)}checkPswdRulesMatched(e,a,t,s,i){return RegExp(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/i).test(e)}passwordMatch(e,a,t,s,i){return s.cpassword===s.password}onReset(){const e=this.validator.validate(this.state);this.setState({validation:e}),this.submitted=!0;let a=this.props.query.t;e.isValid&&c.a.postRequest("reset",p({},this.getStateData(this.state),{token:a})).then(e=>{"success"==e.status?(app.events.trigger(l.I,{visible:!0,type:l.b.SUCESS,msg:"Password successfully reset"}),setTimeout(()=>{app.events.trigger(l.q,{routerKey:l.t})},3e3)):app.events.trigger(l.I,{visible:!0,type:l.b.DANGER,msg:`${e.message}`})}).catch(e=>{console.log(e)})}getStateData(e){return{username:e.username||"",password:e.password||"",cpassword:e.cpassword||""}}handleInputChange(e,a={}){let t=a.field||e.target.name,s=a.value||e.target.value||"";this.fieldData[t]=a,e&&this.setState({[t]:"checkbox"==e.target.type?e.target.checked:s})}validateFieldData(e,a,t,s,i){return this.fieldData[i]&&!!this.fieldData[i][a.propName]}render(){let e=this.submitted?this.validator.validate(this.state):this.state.validation;return i.a.createElement("div",{className:"container-fluid fluid"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-8 mx-auto form"},i.a.createElement("div",{className:"col-md-12 mx-auto login-form text-center"},i.a.createElement("div",{className:"login-form-avatar col-md-4 mx-auto"},i.a.createElement("img",{src:n.a,alt:"AVATAR",className:"login-avatar"})),i.a.createElement("span",{className:"login100-form-title "},"Reset Password"),i.a.createElement("div",{className:"row col-md-6 mx-auto input-fields"},i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement(d.default,{fieldClassName:"input100",mandatory:!0,name:"username",onChange:this.handleInputChange,value:this.state.username,placeholder:"Registered Email",validator:e}),i.a.createElement("span",{className:"focus-input100"}),i.a.createElement("span",{className:"symbol-input100"},i.a.createElement("i",{className:"fa fa-user"}))),i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement(d.default,{fieldClassName:"input100",mandatory:!0,name:"password",onChange:this.handleInputChange,value:this.state.password,placeholder:"Password",type:"password",validator:e}),i.a.createElement("span",{className:"focus-input100"}),i.a.createElement("span",{className:"symbol-input100"},i.a.createElement("i",{className:"fa fa-lock"}))),i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement(d.default,{fieldClassName:"input100",mandatory:!0,name:"cpassword",onChange:this.handleInputChange,value:this.state.cpassword,placeholder:"Confirm Password",type:"password",validator:e}),i.a.createElement("span",{className:"focus-input100"}),i.a.createElement("span",{className:"symbol-input100"},i.a.createElement("i",{className:"fa fa-lock"}))),i.a.createElement("div",{className:"submit text-center mx-auto"},i.a.createElement("button",{className:"login100-form-btn",onClick:this.onReset},"Reset"))),i.a.createElement("div",{className:"text-center forgot-credentials"},i.a.createElement("a",{href:"#",className:"txt1",onClick:this.handleForgotPassword},"Forgot Username / Password?")))))))}}}}]);